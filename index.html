<script type="text/javascript">
	atOptions = {
		'key' : '96c9578db4933380709378a021b53e69',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/96c9578db4933380709378a021b53e69/invoke.js"></script>
<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>रथ यात्रा की शुभकामनाएँ</title>
<script type="text/javascript">
	atOptions = {
		'key' : '96c9578db4933380709378a021b53e69',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/96c9578db4933380709378a021b53e69/invoke.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Hind:wght@400;700&family=Baloo+2:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Hind', 'Baloo 2', Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 20px;
            background: linear-gradient(to bottom right, #FFD700, #FF8C00, #FF4500);
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            background-color: rgba(255, 255, 255, 0.95); /* Slightly more opaque */
            padding: 25px 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.25);
            max-width: 550px;
            width: 90%;
            border: 2px solid #FFBF00;
            position: relative;
            z-index: 10;
        }

        #gifImage {
            max-width: 80%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 3px solid #DAA520;
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        #greetingMessage {
            font-family: 'Baloo 2', cursive;
            font-size: 2em;
            color: #D2691E;
            margin-bottom: 25px;
            font-weight: 700;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .animated-greeting {
            animation: festivePulse 2.5s infinite alternate;
        }

        @keyframes festivePulse {
            0% { transform: scale(1); color: #D2691E; }
            50% { transform: scale(1.08); color: #FF4500; }
            100% { transform: scale(1); color: #B8860B; }
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: bold;
            font-size: 1.1em;
        }

        input[type="text"] {
            padding: 12px;
            width: calc(100% - 26px);
            border: 2px solid #FFC107;
            border-radius: 8px;
            font-size: 1em;
            font-family: 'Hind', sans-serif;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .action-button {
            padding: 12px 25px;
            background: linear-gradient(to right, #FF8C00, #FF4500);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            font-family: 'Baloo 2', cursive;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-top: 10px;
            text-decoration: none; 
            display: inline-block; 
        }

        .action-button:hover {
            background: linear-gradient(to right, #FF4500, #FF8C00);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        #generatedLinkArea {
            margin-top: 25px;
            word-break: break-all;
        }
        #generatedLinkArea p { font-weight: bold; color: #4CAF50; margin-bottom: 10px;}
        #generatedLinkArea input[type="text"] { width: calc(100% - 110px); margin-right: 8px; background-color: #f9f9f9; }


        #socialShareButtons {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 15px; 
        }

        .social-button {
            display: inline-flex; 
            align-items: center;
            justify-content: center;
            padding: 10px; /* Reduced padding slightly for a more compact look */
            border-radius: 50%; /* Make them circular */
            width: 44px; /* Fixed width for circle */
            height: 44px; /* Fixed height for circle */
            text-decoration: none;
            color: white;
            transition: opacity 0.3s ease, transform 0.2s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .social-button:hover {
            opacity: 0.85;
            transform: translateY(-2px);
        }
        .social-button svg {
            width: 24px; /* Icon size */
            height: 24px; /* Icon size */
            fill: white; /* Default fill, can be overridden if SVG path has its own fill */
        }
        .whatsapp { background-color: #25D366; }
        .facebook { background-color: #1877F2; }
        .telegram { background-color: #0088CC; }


        .footer {
            margin-top: 40px;
            font-size: 0.9em;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            z-index: 10;
        }

        .firecracker-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; overflow: hidden; z-index: 0;
        }
        .spark {
            position: absolute; width: 4px; height: 4px; border-radius: 50%;
            background-color: yellow; opacity: 1;
        }
    </style>
</head>
<body>
    <div class="firecracker-container" id="firecrackerContainer"></div>

    <div class="container">
        <h1 id="greetingMessage"></h1>
        <img id="gifImage" src="laxmi.gif" alt="शुभकामना GIF">

        <div class="input-group">
            <label for="nameInput">अपना नाम यहाँ लिखें:</label>
            <input type="text" id="nameInput" placeholder="आपका नाम">
        </div>
        
        <button class="action-button" onclick="processNameAndShare()">लिंक बनाएं और शेयर करें</button>

        <div id="generatedLinkArea">
            <!-- Content will be dynamically added here -->
        </div>
        
        <div id="socialShareButtons" style="display:none;">
            <a id="whatsappShare" href="#" target="_blank" class="social-button whatsapp" title="WhatsApp पर शेयर करें">
                <svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.04 2C6.58 2 2.13 6.44 2.13 11.9c0 1.77.46 3.45 1.32 4.95L2 22l5.25-1.38c1.45.78 3.08 1.21 4.79 1.21 5.46 0 9.91-4.44 9.91-9.91S17.5 2 12.04 2zm0 18.02c-1.5 0-2.93-.39-4.2-1.09l-.3-.18-3.12.82.83-3.04-.2-.32A8.093 8.093 0 0 1 4.02 11.9c0-4.48 3.65-8.13 8.13-8.13s8.13 3.65 8.13 8.13-3.65 8.13-8.13 8.13zm4.34-5.94c-.22-.11-.83-.41-1-.47-.14-.06-.25-.06-.39.06-.14.11-.25.25-.33.33s-.11.14-.22.06c-.11-.09-.47-.17-.89-.54-.33-.28-.55-.47-.61-.55-.06-.09 0-.14.05-.19.05-.05.11-.14.17-.22.05-.06.06-.11.09-.19s.03-.14 0-.22c-.03-.09-.39-1-.5-1.35-.11-.33-.22-.28-.3-.28h-.28c-.11 0-.28.03-.42.17-.14.14-.52.5-.52 1.24 0 .72.53 1.44.61 1.55.09.11 1.02 1.63 2.47 2.18.36.14.64.22.86.28.28.09.53.06.72.03.22-.03.83-.33.94-.67.11-.33.11-.61.09-.67-.03-.06-.14-.09-.25-.17z"/>
                </svg>
            </a>
            <a id="facebookShare" href="#" target="_blank" class="social-button facebook" title="Facebook पर शेयर करें">
                <svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-1.79c-.66 0-1.21.35-1.21 1.14V12h3l-.5 3h-2.5v6.8c4.56-.93 8-4.96 8-9.8z"/>
                </svg>
            </a>
            <a id="telegramShare" href="#" target="_blank" class="social-button telegram" title="Telegram पर शेयर करें">
                <svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21.42 3.44l-2.22 14.93c-.16 1.07-.73 1.34-1.58 0.83l-4.69-3.45-2.28 2.19c-.26.26-.48.48-.92.48l.33-4.79L17.54 5.7c.34-.3-.07-.47-.52-.3L6.95 12.1l-4.59-1.43c-1.03-.32-1.03-1.07.2-1.59L19.99 2.3c.86-.35 1.61.2 1.43 1.14z"/>
                </svg>
            </a>
        </div>

    </div>

    <div class="footer">
        यह दिव्य शुभकामना अपने प्रियजनों के साथ साझा करें! <br> ✨ शुभ रथ यात्रा! ✨
    </div>

    <script>
        // JavaScript code remains the same as the previous version
        const firecrackerContainer = document.getElementById('firecrackerContainer');
        const greetingElement = document.getElementById('greetingMessage');
        const nameInput = document.getElementById('nameInput');
        const generatedLinkArea = document.getElementById('generatedLinkArea');
        const socialShareButtonsDiv = document.getElementById('socialShareButtons');

        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const senderName = urlParams.get('sender');

            if (senderName) {
                greetingElement.textContent = `!! हैप्पी रथ यात्रा !! ${decodeURIComponent(senderName)} की तरफ से`;
                greetingElement.classList.add('animated-greeting');
                launchMultipleFireworks(5, 2000);
            } else {
                greetingElement.textContent = "!! हैप्पी रथ यात्रा !!";
            }
        };

        function processNameAndShare() {
            generatedLinkArea.innerHTML = ''; 
            socialShareButtonsDiv.style.display = 'none'; 

            const senderName = nameInput.value.trim();
            if (senderName === "") {
                alert("कृपया अपना नाम दर्ज करें!");
                return;
            }

            const baseUrl = window.location.origin + window.location.pathname;
            const shareableLink = `${baseUrl}?sender=${encodeURIComponent(senderName)}`;
            
            const shareTitle = "रथ यात्रा की शुभकामनाएँ!";
            const socialShareText = `${senderName} आपको रथ यात्रा की हार्दिक शुभकामनाएँ भेज रहे हैं!`;
            const webShareApiText = `${senderName} आपको रथ यात्रा की हार्दिक शुभकामनाएँ भेज रहे हैं! देखने के लिए क्लिक करें:`;


            if (navigator.share) {
                navigator.share({
                    title: shareTitle,
                    text: webShareApiText, 
                    url: shareableLink,
                })
                .then(() => {
                    console.log('Successfully shared via Web Share API');
                })
                .catch((error) => {
                    console.warn('Web Share API failed or cancelled:', error);
                    displayLinkAndSocialButtons(shareableLink, socialShareText, true); 
                });
            } else {
                displayLinkAndSocialButtons(shareableLink, socialShareText, false);
            }
        }

        function displayLinkAndSocialButtons(link, textForSocial, webShareFailed) {
            generatedLinkArea.innerHTML = `
                <p>शेयर करने के लिए यह लिंक कॉपी करें:</p>
                <input type="text" id="shareLinkInput" value="${link}" readonly>
                <button class="action-button" onclick="copyLinkToClipboard()">कॉपी</button>
            `;
            const shareLinkInput = document.getElementById('shareLinkInput');
            if(shareLinkInput) {
                shareLinkInput.focus();
                shareLinkInput.select();
            }
            
            if (webShareFailed) {
                // No alert if just cancelled by user, or if API not supported (alert comes later)
            } else if (!navigator.share) {
                 alert("आपका ब्राउज़र सीधे शेयरिंग सपोर्ट नहीं करता है। नीचे दिए गए विकल्पों का उपयोग करें।");
            }
            displaySocialShareButtons(link, textForSocial);
        }
        
        function displaySocialShareButtons(link, textForSocial) {
            const encodedLink = encodeURIComponent(link);
            const encodedText = encodeURIComponent(textForSocial);
            const fullEncodedTextAndLink = encodeURIComponent(textForSocial + " " + link);

            document.getElementById('whatsappShare').href = `https://api.whatsapp.com/send?text=${fullEncodedTextAndLink}`;
            document.getElementById('facebookShare').href = `https://www.facebook.com/sharer/sharer.php?u=${encodedLink}"e=${encodedText}`;
            document.getElementById('telegramShare').href = `https://t.me/share/url?url=${encodedLink}&text=${encodedText}`;
            
            socialShareButtonsDiv.style.display = 'flex';
        }

        function copyLinkToClipboard() {
            const linkInput = document.getElementById('shareLinkInput');
            if (linkInput) {
                linkInput.select();
                linkInput.setSelectionRange(0, 99999); 
                try {
                    navigator.clipboard.writeText(linkInput.value).then(function() {
                        alert('लिंक कॉपी हो गया!');
                    }, function(err) {
                        document.execCommand('copy');
                        alert('लिंक कॉपी हो गया! (Fallback)');
                    });
                } catch (err) {
                    document.execCommand('copy');
                    alert('लिंक कॉपी हो गया! (Legacy Fallback)');
                }
            }
        }

        function createSpark(x, y) {
            const spark = document.createElement('div');
            spark.className = 'spark';
            spark.style.left = x + 'px';
            spark.style.top = y + 'px';
            const colors = ['#FFD700', '#FFA500', '#FF4500', '#FFFFFF', '#FFC0CB'];
            spark.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            const angle = Math.random() * Math.PI * 2;
            const distance = Math.random() * 80 + 50;
            const duration = Math.random() * 800 + 500;
            const deltaX = Math.cos(angle) * distance;
            const deltaY = Math.sin(angle) * distance - (Math.random() * 50 + 20) ;
            spark.style.transition = `transform ${duration}ms cubic-bezier(0.25, 0.1, 0.25, 1), opacity ${duration}ms ease-out`;
            firecrackerContainer.appendChild(spark);
            requestAnimationFrame(() => {
                spark.style.transform = `translate(${deltaX}px, ${deltaY}px) scale(0.5)`;
                spark.style.opacity = '0';
            });
            setTimeout(() => { if (spark.parentNode) { spark.parentNode.removeChild(spark); } }, duration);
        }
        function createFireworkBurst(originX, originY, numSparks = 20) {
            for (let i = 0; i < numSparks; i++) {
                setTimeout(() => { createSpark(originX, originY); }, i * 10); 
            }
        }
        function launchMultipleFireworks(numBursts = 3, interval = 500) {
            for (let i = 0; i < numBursts; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth * 0.8 + window.innerWidth * 0.1;
                    const y = Math.random() * window.innerHeight * 0.4 + window.innerHeight * 0.1;
                    createFireworkBurst(x, y, Math.floor(Math.random() * 15) + 15);
                }, i * interval);
            }
        }
    </script>
</body>
</html>
<script type="text/javascript">
	atOptions = {
		'key' : '96c9578db4933380709378a021b53e69',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/96c9578db4933380709378a021b53e69/invoke.js"></script>